<!DOCTYPE html>
<html>
<style>
html {overflow:hidden}
body {position: absolute; margin:0; padding:0;width:100%; height:100%}
canvas {display:block;border:2px solid #ccc; margin:10px auto;}
p {text-align: center; font-size:12px;color:#454545;}
</style>
<script src="js/JCanvas.0.1.js"></script>
<body>
	<canvas id="canvas" width="600" height="400"></canvas>
</body>
	<script>
	
		var canvas = document.getElementById("canvas");
		var stage = new CVS.$stage(canvas);
		var vpx = canvas.width / 2;
		var vpy = canvas.height / 2;
		
		
		function Rect(ctx, x, y, z){
			var width = 100;
			this.ctx = ctx;
			this.width = width;
			this.cube = [
				//срио
				[x, y ,z],
				[x-width, y ,z],
				[x, y-width ,z],
				//сроб
				[x, y ,z],
				[x, y-width ,z],
				[x-width, y-width ,z]
			]
			this.triangle = [];
			this.init();
		};
		Rect.prototype = {
			init:function(){
				var cube = this.cube;
				var point3D = null;
				var point3Ds = [];
				//CVS.createTriangle;
				for(var i=0; i<cube.length; i++){
					point3D = CVS.createPoint3D(this.ctx, function(){
						this.xpos = cube[i][0];
						this.ypos = cube[i][1];
						this.zpos = cube[i][2];
						this.width = 0;
						this.draw = function(){};
					});
					point3D.setVanishPoint(vpx, vpy);
					point3D.setCenterPoint(0, 0, 600);
					//stage.addChild(point3D);
					point3Ds.push(point3D);
				}
				
				this.triangle.push( CVS.createTriangle(this.ctx, point3Ds[0], point3Ds[1], point3Ds[2], 0x6666cc) );
				this.triangle.push( CVS.createTriangle(this.ctx, point3Ds[3], point3Ds[4], point3Ds[5], 0x6666cc) );
			},
			draw:function(){
				this.triangles[0].draw();
				this.triangles[1].draw();
			},
			render:function(){}
		};
		
		var a = new Rect(-155, 155, -155);
		a.draw();
		//stage.addChild(new Rect(-155, 155, -155));
		
		//stage.start();
	</script>
</html>
